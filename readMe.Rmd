Commute:  Live in Baltimore, Work at the NIH
========================================================

Looks like my commute to the NIH is more consistent than the ride home to Baltimore, and more fuel efficient too.  On the x-axis, 1 is Monday and 5 is Friday.  On the y-axis, duration in minutes.

```{r fig.width=7, fig.height=6, echo=FALSE, results='hide', message=FALSE, warning=FALSE}
require(RCurl)
KEY <- "1laWhxQ7ugFs1b3nyhDdjp8-DAN9ZK0J3Zn86cM0BhH8"
url <- paste(
    "https://docs.google.com/spreadsheets/d/",KEY,"/export?format=csv&id=",KEY,
    sep="")
myCsv <- getURL(url,.opts=list(ssl.verifypeer=FALSE))
test <- read.csv(textConnection(myCsv))
head(test)
test[1:10,1:5]
commute<-as.data.frame(test[test$destination %in% c("Baltimore","NIH"),])
##commute[commute==""] <- NA
commute$destination<-factor(commute$destination, levels=rev(c("Baltimore","NIH")))
summary(commute$destination)
library(ggplot2)
ggplot(data=commute, aes(x=day, y=duration, size=mpg, color=destination))+
  geom_point(alpha=.5,position = position_jitter(w = 0.1, h = 0))+
  facet_grid(.~destination)+scale_size_continuous(range = c(3,10))
```

Another look at fuel efficiency:


```{r fig.width=7, fig.height=6, echo=FALSE, results='hide', message=FALSE, warning=FALSE}
ggplot(data=commute, aes(x=mpg,   y=duration, color=destination))+
  geom_point(alpha=.8,size=5)+ 
  scale_x_continuous(breaks=seq(range(commute$mpg, na.rm=TRUE)[1],range(commute$mpg, na.rm=TRUE)[2], length=4)) ## explicitly put min/max+ 
  coord_cartesian(xlim=c(range(commute$mpg, na.rm=TRUE)[1]*.98,range(commute$mpg, na.rm=TRUE)[2]*1.02))+ ## give some space so numbers don't mash between facets+
  facet_grid(.~destination)
```

Without facetting:

```{r fig.width=7, fig.height=6, echo=FALSE, results='hide', message=FALSE, warning=FALSE}
ggplot(data=commute, aes(x=mpg,   y=duration, color=destination))+
  scale_x_continuous(breaks=seq(range(commute$mpg, na.rm=TRUE)[1],range(commute$mpg, na.rm=TRUE)[2], length=4))+
  geom_point(alpha=.8,size=5)
```



Check out the .Rmd file to see code on how to read spreadsheets from Google Drive into R!  Many thanks to [Andrie de Vries and David Smith.](http://blog.revolutionanalytics.com/2014/06/reading-data-from-the-new-version-of-google-spreadsheets.html
)